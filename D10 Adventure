#include <stdio.h>

#define Salud_Inicial 100 
#define Nivel_Inical 1 // Ojo, tienes un typo: 'Inical' -> 'Inicial'

int main() {
    int vida = Salud_Inicial; 
    // int danio_entrante; 
    // int danio_saliente;

    int Opcion;
    int Dado;

    printf("Empieza D10 Adventure\n");
    printf("----------------------------------\n");
    printf("Aparece un monstruo enfrente tuya \n"); // Lo sacamos del bucle para que no lo repita si te equivocas de tecla

    do {
        // 1. MOVER EL SCANF DENTRO DEL BUCLE
        // Para que si te equivocas, te vuelva a preguntar
        printf("\nAtacar = 0 // Huir = 1 \n");
        printf("Elige opcion: ");
        scanf("%d", &Opcion); 

        switch (Opcion) {
            case 0: 
                printf("¡Atacas al monstruo con tu espada! \n");
                
                // Validación del dado (Inner Loop)
                do {
                    printf("Introduce resultado del D10 (1-10): ");
                    scanf("%d", &Dado);

                    switch (Dado) {
                        case 1: case 2: case 3: case 4:
                            printf("--> Fallaste, el monstruo te ataca \n");
                            break;
                        
                        case 5: case 6: case 7: case 8: case 9: case 10:
                            printf("--> ¡IMPACTO! El monstruo muere \n");
                            break;

                        default: 
                            printf("Error: El dado debe ser entre 1 y 10.\n");
                            break;
                    }
                // CORREGIDO: Usamos < y > para comparar números
                } while(Dado < 1 || Dado > 10); 
                
                break; // <--- ¡IMPORTANTE! Para que no ejecute también el case 1

            case 1: 
                printf("Sales corriendo por tu vida \n");
                
                do {
                    printf("Introduce resultado del D10 (1-10): ");
                    scanf("%d", &Dado);

                    switch (Dado) {
                        case 1: case 2: case 3: case 4:
                            printf("--> Fallaste, el monstruo te ataca \n");
                            break;
        
                        case 5: case 6: case 7: case 8: case 9: case 10:
                            printf("--> Huyes con éxito \n");
                            break;

                        default: 
                            printf("Error: El dado debe ser entre 1 y 10.\n");
                            break;
                    }
                } while(Dado < 1 || Dado > 10);

                break; // <--- ¡IMPORTANTE!

            default: 
                printf("Opción incorrecta, prueba otra vez (0 o 1).\n");
                break;
        }
    
    // CORREGIDO: Mientras Opcion sea menor que 0 O mayor que 1, repite el menú
    } while(Opcion < 0 || Opcion > 1); 

    return 0;
}
